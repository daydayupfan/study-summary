##分布式锁 Redission （setnx + expire）
1、单点问题：服务宕机会造成锁丢失无法解锁
2、完全解决分布式锁是使用RedissionRedLock 需要是redis集群才可使用，采用多机在
指定时间至少（节点数/2+1）节点都完成锁的创建才表示锁创建成功，否则创建成功的个别
节点也会再次删除锁


##redis删除数据的模式是怎样的 
定期删除 + 懒惰删除策略。
 
## RDB AOF比较
RDB:容量小，恢复迅速，但丢失数据时丢失较多（看save point 设置）


AOF:容量大，回复慢数据完整，丢失数据少，看每次有新命令追加到 AOF 文件时就执行一次
fsync：非常慢，也非常安全。
每秒fsync一次：足够快（和使用 RDB 持久化差不多），并且在故障时只会丢失 1 秒钟的数据。
从不fsync：将数据交给操作系统来处理。更快，也更不安全的选择。

二者都会进行重写AOF会调整命令，RDB会删除过期数据
